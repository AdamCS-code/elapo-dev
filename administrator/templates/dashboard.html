<h2>All Registered Users</h2>
<table border="1">
    <tr>
        <th>Username</th>
        <th>Email</th>
        <th>Role</th>
        <th>Date Joined</th>
        <th>Action</th>
    </tr>
    {% for user in users %}
    <tr>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>
            {% if user.id in admin_user_ids %}
                Admin
            {% elif user.id in worker_user_ids %}
                Worker
            {% else %}
                Customer  <!-- Default role is Customer -->
            {% endif %}
        </td>
        <td>{{ user.date_joined }}</td>
        <td>
            {% if user.id != request.user.id %}  <!-- Don't allow deleting yourself -->
                <form action="{% url 'delete_user' user.id %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this user?');">
                        Delete
                    </button>
                </form>
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>