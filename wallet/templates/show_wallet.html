{% extends 'main.html' %}
{% block title %}Wallet {% endblock title %} 




{% block content%}
<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          'cream': '#fff9ee',
          'slate': '#585e6c',
          'taupe': '#beb9ae',
          'gray': '#e3e3e3'
        }
      }
    }
  }
</script>
{% if form %}
<div id="wallet-form-container" class="bg-cream max-w-md flex p-4 rounded-md justify-center shadow-md items-center">
  {{ form }} 
</div>
{% else %}
<div id="wallet-content-container" class="w-full flex-row max-w-lg">
  <div class="py-3">
    {% if wallet_account %}
    <p>username : {{wallet_account.user.email}}</p>
    <p>saldo: {{balance}}</p>
  {% endif %}
  </div>
  <div>
    <a href="{% url 'wallet:topup_wallet'%}" class="w-full bg-slate hover:bg-slate/90 text-white font-medium py-3 px-4 rounded-lg transition duration-200">Topup</a>
  </div>
</div>
{% endif %}
{% endblock content%}
  
{% block script%}
<script>
  
document.addEventListener("DOMContentLoaded", () => {
  const menuToggle = document.getElementById("menu-toggle");
  const sidebar = document.getElementById("sidebar");
  const mainContent = document.getElementById("main-content");
  const sectionButtons = sidebar.querySelectorAll("li");

  // Toggle sidebar on mobile
  menuToggle.addEventListener("click", () => {
    sidebar.classList.toggle("open");
    menuToggle.textContent = sidebar.classList.contains("open") ? "✕" : "☰";
  });

  // Section switching
  const contentMap = {
    shopping: "Shopping Content",
    cart: "Cart Content",
    orders: "Orders Content",
    wallet: "Wallet Content",
    profile: "Profile Content"
  };

  sectionButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      // Set active
      sectionButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      const section = btn.getAttribute("data-section");
      mainContent.innerHTML = `<div>${contentMap[section]}</div>`;

      // Auto-close sidebar on mobile
      if (window.innerWidth <= 768) {
        sidebar.classList.remove("open");
        menuToggle.textContent = "☰";
      }
    });
  });
});
</script>
{% endblock script%}

